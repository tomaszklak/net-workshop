version: '3'
services:
  node1:
    container_name: node1
    hostname: node1
    build:
      context: .
    tty: true
    networks:
      net1:
        ipv4_address: 192.168.57.11
    volumes:
        - ./shared/common:/shared/common

  node2:
    container_name: node2
    hostname: node2
    build:
      context: .
    tty: true
    networks:
      net1:
        ipv4_address: 192.168.57.12
      net2:
        ipv4_address: 192.168.58.12
    volumes:
        - ./shared/common:/shared/common

  node3:
    container_name: node3
    hostname: node3
    build:
      context: .
    tty: true
    networks:
      net2:
        ipv4_address: 192.168.58.13
      net3:
        ipv4_address: 192.168.59.13
    volumes:
        - ./shared/common:/shared/common

  node4:
    container_name: node4
    hostname: node4
    build:
      context: .
    tty: true
    networks:
      net3:
        ipv4_address: 192.168.59.14
      net4:
        ipv4_address: 192.168.60.14
    volumes:
        - ./shared/common:/shared/common

  node5:
    container_name: node5
    hostname: node5
    build:
      context: .
    tty: true
    networks:
      net4:
        ipv4_address: 192.168.60.15
      net5:
        ipv4_address: 192.168.61.15
    volumes:
        - ./shared/common:/shared/common

  node6:
    container_name: node6
    hostname: node6
    build:
      context: .
    tty: true
    networks:
      net5:
        ipv4_address: 192.168.61.16
    volumes:
        - ./shared/common:/shared/common

networks:
  net1:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.57.0/24

  net2:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.58.0/24

  net3:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.59.0/24

  net4:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.60.0/24

  net5:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.61.0/24
